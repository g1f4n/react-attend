{"ast":null,"code":"var _jsxFileName = \"E:\\\\Node.js Project\\\\project dika\\\\dika-attend\\\\react-attend\\\\src\\\\views\\\\StatusPerubahan.jsx\";\n\n/*!\r\n \r\n=========================================================\r\n* Light Bootstrap Dashboard React - v1.3.0\r\n=========================================================\r\n \r\n* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react\r\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard-react/blob/master/LICENSE.md)\r\n \r\n* Coded by Creative Tim\r\n \r\n=========================================================\r\n \r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n \r\n*/\nimport React, { Component } from 'react';\nimport { Container, Row, Col, FormGroup, ControlLabel, FormControl, Form, Tooltip, OverlayTrigger, Table } from 'react-bootstrap';\nimport { Card } from 'components/Card/Card.jsx';\nimport Button from 'components/CustomButton/CustomButton.jsx';\nimport Axios from 'axios';\nimport ReactHTMLTableToExcel from 'react-html-table-to-excel';\nimport Parse from 'parse';\nimport ModalHandler from './Category/ModalHandler';\nimport moment from 'moment';\nimport './Category/datepicker.css';\nimport DateTime from 'react-datetime';\n\nclass StatusChangeRequest extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const _this$state = this.state,\n            name = _this$state.name,\n            nik = _this$state.nik,\n            tipeKaryawan = _this$state.tipeKaryawan,\n            posisi = _this$state.posisi,\n            level = _this$state.level,\n            imei = _this$state.imei,\n            jamKerja = _this$state.jamKerja,\n            lokasiKerja = _this$state.lokasiKerja,\n            jumlahCuti = _this$state.jumlahCuti,\n            lembur = _this$state.lembur,\n            fotoWajah = _this$state.fotoWajah,\n            username = _this$state.username,\n            password = _this$state.password;\n      const user = new Parse.User();\n      user.set('fullname', name);\n      user.set('username', username);\n      user.set('password', password);\n      user.set('nik', nik.toUpperCase());\n      user.set('tipe', tipeKaryawan);\n      user.set('posisi', posisi);\n      user.set('level', level);\n      user.set('imei', imei);\n      user.set('jamKerja', jamKerja);\n      user.set('lokasiKerja', lokasiKerja);\n      user.set('jumlahCuti', parseInt(jumlahCuti));\n      user.set('lembur', lembur);\n      user.set('roles', level);\n      user.set('fotoWajah', new Parse.File('profile.jpg', fotoWajah));\n      user.signUp().then(x => {\n        this.setState({\n          staff: this.state.staff.concat(x),\n          addMode: false,\n          loading: false\n        });\n      }).catch(err => {\n        this.setState({\n          addMode: false,\n          loading: false\n        });\n        alert(err.message);\n      });\n    };\n\n    this.handleFace = e => {\n      this.setState({\n        loadingReco: true,\n        statusReco: 0,\n        fotoWajah: e.target.files[0]\n      });\n      const formData = new FormData();\n      formData.append('knax', e.target.files[0]);\n      Axios.post('http://35.247.147.177:4000/api/face-check', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(({\n        data\n      }) => {\n        if (data.status === 1) return this.setState({\n          statusReco: 1,\n          message: \"\\u2714\\uFE0F \".concat(data.message),\n          loadingReco: false\n        });\n        return this.setState({\n          statusReco: 0,\n          message: \"\\u2716\\uFE0F \".concat(data.message),\n          loadingReco: false\n        });\n      }).catch(err => alert('Terjadi error...'));\n    };\n\n    this.handleFilter = e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const _this$state2 = this.state,\n            searchBy = _this$state2.searchBy,\n            searchValue = _this$state2.searchValue;\n      console.log(searchBy);\n\n      if (searchBy === 'name') {\n        const User = new Parse.User();\n        const query = new Parse.Query(User);\n        query.matches('fullname', searchValue, 'i');\n        query.equalTo('roles', 'staff');\n        query.find().then(name => {\n          this.setState({\n            staff: name,\n            loading: false\n          });\n        }).catch(err => alert(err.message));\n        return;\n      }\n\n      if (searchBy === 'all') {\n        const User = new Parse.User();\n        const query = new Parse.Query(User);\n        query.equalTo('roles', 'staff');\n        query.find().then(name => {\n          this.setState({\n            staff: name,\n            loading: false\n          });\n        }).catch(err => alert(err.message));\n        return;\n      }\n\n      const User = new Parse.User();\n      const query = new Parse.Query(User);\n      query.equalTo('nik', searchValue.toUpperCase());\n      query.equalTo('roles', 'staff');\n      query.find().then(x => {\n        console.log(x);\n        this.setState({\n          staff: x,\n          loading: false\n        });\n      }).catch(err => alert(err.message));\n    };\n\n    this.state = {\n      trainee: [],\n      staff: [],\n      error: '',\n      userId: '',\n      status: 3,\n      userIndex: 0,\n      fullnames: '',\n      loading: false,\n      addMode: false,\n      editMode: false,\n      deleteMode: false,\n      buttonLoading: false,\n      checkAll: false,\n      checkId: [],\n      checkOne: false,\n      lampiran: '',\n      photoMode: false,\n      searchValue: '',\n      searchBy: 'all',\n      fotoWajah: '',\n      message: '',\n      loadingReco: false,\n      nama: '',\n      nik: '',\n      tipeKaryawan: 'Karyawan tetap',\n      posisi: '',\n      level: '',\n      imei: '',\n      jamKerja: 'Jam tetap',\n      lokasiKerja: 'Tetap',\n      jumlahCuti: 0,\n      lembur: 'ya',\n      username: '',\n      password: '',\n      statusReco: 0\n    }; //this.handleFilter = this.handleFilter.bind(this);\n  }\n\n  componentDidMount() {\n    this.getStaff();\n  }\n\n  getStaff() {\n    this.setState({\n      loading: true\n    });\n    const ChangeRequest = Parse.Object.extend('ChangeRequest');\n    const query = new Parse.Query(ChangeRequest);\n    query.include('userId');\n    query.find().then(x => {\n      console.log(x);\n      this.setState({\n        staff: x,\n        loading: false\n      });\n    }).catch(err => {\n      alert(err.message);\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    const _this$state3 = this.state,\n          staff = _this$state3.staff,\n          loading = _this$state3.loading,\n          loadingReco = _this$state3.loadingReco,\n          message = _this$state3.message;\n\n    const tooltip = msg => /*#__PURE__*/React.createElement(Tooltip, {\n      id: \"button-tooltip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 34\n      }\n    }, msg);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ModalHandler, {\n      show: this.state.deleteMode,\n      title: \"Reject confirmation\",\n      handleHide: () => this.setState({\n        deleteMode: false\n      }),\n      handleSave: this.handleReject,\n      loading: this.state.loading,\n      body: 'Reject izin ' + this.state.fullnames + ' ?',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ModalHandler, {\n      show: this.state.deleteMode,\n      title: \"Reject confirmation\",\n      handleHide: () => this.setState({\n        deleteMode: false\n      }),\n      handleSave: this.handleReject,\n      loading: this.state.loading,\n      body: 'Reject izin ' + this.state.fullnames + ' ?',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      content: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.handleFilter,\n        style: {\n          marginBottom: '20px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Form.Group, {\n        as: Row,\n        controlId: \"formHorizontalEmails\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"select\",\n        defaultValue: \"all\",\n        onChange: e => this.setState({\n          searchBy: e.target.value\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 61\n        }\n      }, ['all', 'nik', 'name'].map(x => /*#__PURE__*/React.createElement(\"option\", {\n        value: x,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 69\n        }\n      }, x)))), /*#__PURE__*/React.createElement(Col, {\n        sm: 4,\n        className: \"pull-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        disabled: this.state.searchBy === 'all' ? true : false,\n        type: \"text\",\n        placeholder: \"Masukkan \".concat(this.state.searchBy),\n        onChange: e => this.setState({\n          searchValue: e.target.value\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 61\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        disable: loading ? 'true' : 'false',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 65\n        }\n      }), ' ', loading ? 'Fetching...' : 'Search')))))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 41\n        }\n      }, staff.length < 1 ? /*#__PURE__*/React.createElement(Col, {\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 49\n        }\n      }, \"No data found...\") : /*#__PURE__*/React.createElement(Table, {\n        striped: true,\n        hover: true,\n        id: \"ekspor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 65\n        }\n      }, \"NIK\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 65\n        }\n      }, \"NAMA\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 65\n        }\n      }, \"STATUS PERUBAHAN\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        key: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 57\n        }\n      }, staff.map((prop, key) => /*#__PURE__*/React.createElement(\"tr\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 69\n        }\n      }, prop.get('userId').attributes.nik), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 69\n        }\n      }, prop.get('userId').attributes.fullname), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          color: \"\".concat(prop.attributes.statusApprove === 0 ? 'blue' : \"\".concat(prop.attributes.statusApprove === 1 ? 'green' : 'red'))\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 69\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 73\n        }\n      }, prop.get('statusApprove') === 0 ? 'ON PROCESS' : prop.get('statusApprove') === 1 ? 'Approved'.toUpperCase() : 'Rejected'.toUpperCase())))))))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 29\n      }\n    })))));\n  }\n\n}\n\nexport default StatusChangeRequest;","map":{"version":3,"sources":["E:/Node.js Project/project dika/dika-attend/react-attend/src/views/StatusPerubahan.jsx"],"names":["React","Component","Container","Row","Col","FormGroup","ControlLabel","FormControl","Form","Tooltip","OverlayTrigger","Table","Card","Button","Axios","ReactHTMLTableToExcel","Parse","ModalHandler","moment","DateTime","StatusChangeRequest","constructor","props","handleSubmit","e","preventDefault","setState","loading","state","name","nik","tipeKaryawan","posisi","level","imei","jamKerja","lokasiKerja","jumlahCuti","lembur","fotoWajah","username","password","user","User","set","toUpperCase","parseInt","File","signUp","then","x","staff","concat","addMode","catch","err","alert","message","handleFace","loadingReco","statusReco","target","files","formData","FormData","append","post","headers","data","status","handleFilter","searchBy","searchValue","console","log","query","Query","matches","equalTo","find","trainee","error","userId","userIndex","fullnames","editMode","deleteMode","buttonLoading","checkAll","checkId","checkOne","lampiran","photoMode","nama","componentDidMount","getStaff","ChangeRequest","Object","extend","include","render","tooltip","msg","handleReject","marginBottom","value","map","length","prop","key","get","attributes","fullname","color","statusApprove"],"mappings":"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","sourcesContent":["/*!\r\n \r\n=========================================================\r\n* Light Bootstrap Dashboard React - v1.3.0\r\n=========================================================\r\n \r\n* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react\r\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard-react/blob/master/LICENSE.md)\r\n \r\n* Coded by Creative Tim\r\n \r\n=========================================================\r\n \r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n \r\n*/\r\nimport React, { Component } from 'react';\r\nimport {\r\n    Container,\r\n    Row,\r\n    Col,\r\n    FormGroup,\r\n    ControlLabel,\r\n    FormControl,\r\n    Form,\r\n    Tooltip,\r\n    OverlayTrigger,\r\n    Table\r\n} from 'react-bootstrap';\r\n\r\nimport { Card } from 'components/Card/Card.jsx';\r\nimport Button from 'components/CustomButton/CustomButton.jsx';\r\n\r\nimport Axios from 'axios';\r\nimport ReactHTMLTableToExcel from 'react-html-table-to-excel';\r\nimport Parse from 'parse';\r\nimport ModalHandler from './Category/ModalHandler';\r\nimport moment from 'moment';\r\nimport './Category/datepicker.css';\r\nimport DateTime from 'react-datetime';\r\n\r\nclass StatusChangeRequest extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            trainee: [],\r\n            staff: [],\r\n            error: '',\r\n            userId: '',\r\n            status: 3,\r\n            userIndex: 0,\r\n            fullnames: '',\r\n            loading: false,\r\n            addMode: false,\r\n            editMode: false,\r\n            deleteMode: false,\r\n            buttonLoading: false,\r\n            checkAll: false,\r\n            checkId: [],\r\n            checkOne: false,\r\n            lampiran: '',\r\n            photoMode: false,\r\n            searchValue: '',\r\n            searchBy: 'all',\r\n            fotoWajah: '',\r\n            message: '',\r\n            loadingReco: false,\r\n            nama: '',\r\n            nik: '',\r\n            tipeKaryawan: 'Karyawan tetap',\r\n            posisi: '',\r\n            level: '',\r\n            imei: '',\r\n            jamKerja: 'Jam tetap',\r\n            lokasiKerja: 'Tetap',\r\n            jumlahCuti: 0,\r\n            lembur: 'ya',\r\n            username: '',\r\n            password: '',\r\n            statusReco: 0\r\n        };\r\n\r\n        //this.handleFilter = this.handleFilter.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getStaff();\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.setState({ loading: true });\r\n        const {\r\n            name,\r\n            nik,\r\n            tipeKaryawan,\r\n            posisi,\r\n            level,\r\n            imei,\r\n            jamKerja,\r\n            lokasiKerja,\r\n            jumlahCuti,\r\n            lembur,\r\n            fotoWajah,\r\n            username,\r\n            password\r\n        } = this.state;\r\n\r\n        const user = new Parse.User();\r\n        user.set('fullname', name);\r\n        user.set('username', username);\r\n        user.set('password', password);\r\n        user.set('nik', nik.toUpperCase());\r\n        user.set('tipe', tipeKaryawan);\r\n        user.set('posisi', posisi);\r\n        user.set('level', level);\r\n        user.set('imei', imei);\r\n        user.set('jamKerja', jamKerja);\r\n        user.set('lokasiKerja', lokasiKerja);\r\n        user.set('jumlahCuti', parseInt(jumlahCuti));\r\n        user.set('lembur', lembur);\r\n        user.set('roles', level);\r\n        user.set('fotoWajah', new Parse.File('profile.jpg', fotoWajah));\r\n        user\r\n            .signUp()\r\n            .then((x) => {\r\n                this.setState({\r\n                    staff: this.state.staff.concat(x),\r\n                    addMode: false,\r\n                    loading: false\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                this.setState({ addMode: false, loading: false });\r\n                alert(err.message);\r\n            });\r\n    };\r\n\r\n    handleFace = (e) => {\r\n        this.setState({ loadingReco: true, statusReco: 0, fotoWajah: e.target.files[0] });\r\n        const formData = new FormData();\r\n        formData.append('knax', e.target.files[0]);\r\n        Axios.post('http://35.247.147.177:4000/api/face-check', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n            .then(({ data }) => {\r\n                if (data.status === 1)\r\n                    return this.setState({\r\n                        statusReco: 1,\r\n                        message: `✔️ ${data.message}`,\r\n                        loadingReco: false\r\n                    });\r\n                return this.setState({\r\n                    statusReco: 0,\r\n                    message: `✖️ ${data.message}`,\r\n                    loadingReco: false\r\n                });\r\n            })\r\n            .catch((err) => alert('Terjadi error...'));\r\n    };\r\n\r\n    handleFilter = (e) => {\r\n        e.preventDefault();\r\n        this.setState({ loading: true });\r\n        const { searchBy, searchValue } = this.state;\r\n\r\n        console.log(searchBy);\r\n\r\n        if (searchBy === 'name') {\r\n            const User = new Parse.User();\r\n            const query = new Parse.Query(User);\r\n            query.matches('fullname', searchValue, 'i');\r\n            query.equalTo('roles', 'staff');\r\n            query\r\n                .find()\r\n                .then((name) => {\r\n                    this.setState({ staff: name, loading: false });\r\n                })\r\n                .catch((err) => alert(err.message));\r\n            return;\r\n        }\r\n        if (searchBy === 'all') {\r\n            const User = new Parse.User();\r\n            const query = new Parse.Query(User);\r\n            query.equalTo('roles', 'staff');\r\n            query\r\n                .find()\r\n                .then((name) => {\r\n                    this.setState({ staff: name, loading: false });\r\n                })\r\n                .catch((err) => alert(err.message));\r\n            return;\r\n        }\r\n\r\n        const User = new Parse.User();\r\n        const query = new Parse.Query(User);\r\n        query.equalTo('nik', searchValue.toUpperCase());\r\n        query.equalTo('roles', 'staff');\r\n        query\r\n            .find()\r\n            .then((x) => {\r\n                console.log(x);\r\n                this.setState({ staff: x, loading: false });\r\n            })\r\n            .catch((err) => alert(err.message));\r\n    };\r\n\r\n    getStaff() {\r\n        this.setState({ loading: true });\r\n        const ChangeRequest = Parse.Object.extend('ChangeRequest');\r\n        const query = new Parse.Query(ChangeRequest);\r\n\r\n        query.include('userId');\r\n        query\r\n            .find()\r\n            .then((x) => {\r\n                console.log(x);\r\n                this.setState({ staff: x, loading: false });\r\n            })\r\n            .catch((err) => {\r\n                alert(err.message);\r\n                this.setState({ loading: false });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { staff, loading, loadingReco, message } = this.state;\r\n        const tooltip = (msg) => <Tooltip id=\"button-tooltip\">{msg}</Tooltip>;\r\n\r\n        return (\r\n            <div className=\"content\">\r\n                <ModalHandler\r\n                    show={this.state.deleteMode}\r\n                    title=\"Reject confirmation\"\r\n                    handleHide={() => this.setState({ deleteMode: false })}\r\n                    handleSave={this.handleReject}\r\n                    loading={this.state.loading}\r\n                    body={'Reject izin ' + this.state.fullnames + ' ?'}\r\n                />\r\n                <ModalHandler\r\n                    show={this.state.deleteMode}\r\n                    title=\"Reject confirmation\"\r\n                    handleHide={() => this.setState({ deleteMode: false })}\r\n                    handleSave={this.handleReject}\r\n                    loading={this.state.loading}\r\n                    body={'Reject izin ' + this.state.fullnames + ' ?'}\r\n                />\r\n\r\n                <Container fluid>\r\n                    <Row>\r\n                        <Col md={12}>\r\n                            <Card\r\n                                content={\r\n                                    <div>\r\n                                        <Row>\r\n                                            <Col>\r\n                                                <Form\r\n                                                    onSubmit={this.handleFilter}\r\n                                                    style={{ marginBottom: '20px' }}\r\n                                                >\r\n                                                    <Form.Group\r\n                                                        as={Row}\r\n                                                        controlId=\"formHorizontalEmails\"\r\n                                                    >\r\n                                                        <Col sm={2}>\r\n                                                            <Form.Control\r\n                                                                as=\"select\"\r\n                                                                defaultValue=\"all\"\r\n                                                                onChange={(e) =>\r\n                                                                    this.setState({\r\n                                                                        searchBy: e.target.value\r\n                                                                    })}\r\n                                                            >\r\n                                                                {[\r\n                                                                    'all',\r\n                                                                    'nik',\r\n                                                                    'name'\r\n                                                                ].map((x) => (\r\n                                                                    <option value={x}>{x}</option>\r\n                                                                ))}\r\n                                                            </Form.Control>\r\n                                                        </Col>\r\n                                                        <Col sm={4} className=\"pull-right\">\r\n                                                            <Form.Control\r\n                                                                disabled={\r\n                                                                    this.state.searchBy ===\r\n                                                                        'all' ? (\r\n                                                                            true\r\n                                                                        ) : (\r\n                                                                            false\r\n                                                                        )\r\n                                                                }\r\n                                                                type=\"text\"\r\n                                                                placeholder={`Masukkan ${this.state\r\n                                                                    .searchBy}`}\r\n                                                                onChange={(e) =>\r\n                                                                    this.setState({\r\n                                                                        searchValue: e.target.value\r\n                                                                    })}\r\n                                                            />\r\n                                                        </Col>\r\n                                                        <Col sm={4}>\r\n                                                            <Button\r\n                                                                variant=\"primary\"\r\n                                                                type=\"submit\"\r\n                                                                disable={loading ? 'true' : 'false'}\r\n                                                            >\r\n                                                                <i className=\"fa fa-search\" />{' '}\r\n                                                                {loading ? 'Fetching...' : 'Search'}\r\n                                                            </Button>\r\n                                                        </Col>\r\n                                                    </Form.Group>\r\n                                                </Form>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            {staff.length < 1 ? (\r\n                                                <Col md={12}>No data found...</Col>\r\n                                            ) : (\r\n                                                    <Table striped hover id=\"ekspor\">\r\n                                                        <thead>\r\n                                                            <tr>\r\n                                                                <th>NIK</th>\r\n                                                                <th>NAMA</th>\r\n                                                                <th>STATUS PERUBAHAN</th>\r\n                                                                {/* <th>ACTION</th> */}\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                        <tbody key={1}>\r\n                                                            {staff.map((prop, key) => (\r\n                                                                <tr key={key}>\r\n                                                                    <td>\r\n                                                                        {\r\n                                                                            prop.get('userId')\r\n                                                                                .attributes.nik\r\n                                                                        }\r\n                                                                    </td>\r\n                                                                    <td>\r\n                                                                        {\r\n                                                                            prop.get('userId')\r\n                                                                                .attributes.fullname\r\n                                                                        }\r\n                                                                    </td>\r\n                                                                    <td\r\n                                                                        style={{\r\n                                                                            color: `${prop.attributes\r\n                                                                                .statusApprove === 0\r\n                                                                                ? 'blue'\r\n                                                                                : `${prop.attributes\r\n                                                                                    .statusApprove ===\r\n                                                                                    1\r\n                                                                                    ? 'green'\r\n                                                                                    : 'red'}`}`\r\n                                                                        }}\r\n                                                                    >\r\n                                                                        <strong>\r\n                                                                            {prop.get(\r\n                                                                                'statusApprove'\r\n                                                                            ) === 0 ? (\r\n                                                                                    'ON PROCESS'\r\n                                                                                ) : prop.get(\r\n                                                                                    'statusApprove'\r\n                                                                                ) === 1 ? (\r\n                                                                                        'Approved'.toUpperCase()\r\n                                                                                    ) : (\r\n                                                                                        'Rejected'.toUpperCase()\r\n                                                                                    )}\r\n                                                                        </strong>\r\n                                                                    </td>\r\n                                                                    {/* <td>\r\n                                                                    <OverlayTrigger\r\n                                                                        placement=\"right\"\r\n                                                                        overlay={tooltip(\r\n                                                                            'Lihat detail'\r\n                                                                        )}\r\n                                                                    >\r\n                                                                        <Button\r\n                                                                            className=\"btn-circle btn-primary mr-2\"\r\n                                                                            onClick={() => {\r\n                                                                                this.setState({\r\n                                                                                    photoMode: true,\r\n                                                                                    lampiran: prop.attributes.attachFile.url()\r\n                                                                                });\r\n                                                                            }}\r\n                                                                        >\r\n                                                                            <i className=\"fa fa-eye\" />\r\n                                                                        </Button>\r\n                                                                    </OverlayTrigger>\r\n \r\n                                                                    <OverlayTrigger\r\n                                                                        placement=\"right\"\r\n                                                                        overlay={tooltip('Edit')}\r\n                                                                    >\r\n                                                                        <Button\r\n                                                                            className=\"btn-circle btn-warning mr-2\"\r\n                                                                            onClick={() => {\r\n                                                                                this.setState({\r\n                                                                                    editMode: true,\r\n                                                                                    userId: prop.id,\r\n                                                                                    userIndex: key,\r\n                                                                                    fullnames: prop.get(\r\n                                                                                        'fullname'\r\n                                                                                    )\r\n                                                                                });\r\n                                                                            }}\r\n                                                                        >\r\n                                                                            <i className=\"fa fa-edit\" />\r\n                                                                        </Button>\r\n                                                                    </OverlayTrigger>\r\n                                                                    <OverlayTrigger\r\n                                                                        placement=\"right\"\r\n                                                                        overlay={tooltip('Hapus')}\r\n                                                                    >\r\n                                                                        <Button\r\n                                                                            className=\"btn-circle btn-danger\"\r\n                                                                            onClick={(e) => {\r\n                                                                                this.setState({\r\n                                                                                    deleteMode: true,\r\n                                                                                    userId: prop.id,\r\n                                                                                    userIndex: key,\r\n                                                                                    fullnames: prop.get(\r\n                                                                                        'fullname'\r\n                                                                                    )\r\n                                                                                });\r\n                                                                            }}\r\n                                                                        >\r\n                                                                            <i className=\"fa fa-trash\" />\r\n                                                                        </Button>\r\n                                                                    </OverlayTrigger>\r\n                                                                </td> */}\r\n                                                                </tr>\r\n                                                            ))}\r\n                                                        </tbody>\r\n                                                    </Table>\r\n                                                )}\r\n                                        </Row>\r\n                                    </div>\r\n                                }\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    {/* </Col> */}\r\n                    {/* </Row> */}\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default StatusChangeRequest;"]},"metadata":{},"sourceType":"module"}
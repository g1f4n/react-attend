{"ast":null,"code":"var _jsxFileName = \"/home/pieroashady/VSCode/ReactProjects/txa/client/src/views/Login.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Form, Col, FormControl, FormGroup, ControlLabel, Checkbox, Button } from 'react-bootstrap';\nimport { login } from 'utils';\nimport { useHistory } from 'react-router';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hello: '',\n      username: '',\n      password: ''\n    };\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  componentDidMount() {\n    this.getHelloWorld();\n  }\n\n  handleLogin(e) {\n    e.preventDefault();\n    const url = 'http://localhost:5000/api/login';\n    const creds = {\n      username: this.state.username,\n      password: this.state.password\n    };\n    console.log(creds);\n    return axios.post(url, creds).then(x => {\n      login();\n      console.log(x.data);\n      localStorage.setItem('sessionToken', x.data.sessionToken);\n      this.props.history.push('/admin/table'); // return useHistory().push('/admin/table');\n    }).catch(err => {\n      console.log(err);\n      return;\n    });\n  }\n\n  getHelloWorld() {\n    const url = 'http://localhost:5000/hello';\n    axios.get(url).then(({\n      data\n    }) => {\n      this.setState({\n        hello: data\n      });\n    });\n  }\n\n  render() {\n    const hello = this.state.hello;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"containerz\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        textAlign: 'center',\n        fontWeight: 'bolder'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 6\n      }\n    }, \"Login first\"), /*#__PURE__*/React.createElement(Form, {\n      horizontal: true,\n      onSubmit: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formHorizontalEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      componentClass: ControlLabel,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 8\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Username\",\n      onChange: e => {\n        this.setState({\n          username: e.target.value\n        });\n        console.log(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formHorizontalPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      componentClass: ControlLabel,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 8\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Password\",\n      onChange: e => {\n        this.setState({\n          password: e.target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      smOffset: 2,\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      value: \"Login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/pieroashady/VSCode/ReactProjects/txa/client/src/views/Login.jsx"],"names":["React","Component","axios","Form","Col","FormControl","FormGroup","ControlLabel","Checkbox","Button","login","useHistory","Login","constructor","props","state","hello","username","password","handleLogin","bind","componentDidMount","getHelloWorld","e","preventDefault","url","creds","console","log","post","then","x","data","localStorage","setItem","sessionToken","history","push","catch","err","get","setState","render","textAlign","fontWeight","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Form, Col, FormControl, FormGroup, ControlLabel, Checkbox, Button } from 'react-bootstrap';\nimport { login } from 'utils';\nimport { useHistory } from 'react-router';\n\nclass Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thello: '',\n\t\t\tusername: '',\n\t\t\tpassword: ''\n\t\t};\n\n\t\tthis.handleLogin = this.handleLogin.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getHelloWorld();\n\t}\n\n\thandleLogin(e) {\n\t\te.preventDefault();\n\t\tconst url = 'http://localhost:5000/api/login';\n\t\tconst creds = {\n\t\t\tusername: this.state.username,\n\t\t\tpassword: this.state.password\n\t\t};\n\t\tconsole.log(creds);\n\t\treturn axios\n\t\t\t.post(url, creds)\n\t\t\t.then((x) => {\n\t\t\t\tlogin();\n\t\t\t\tconsole.log(x.data);\n\t\t\t\tlocalStorage.setItem('sessionToken', x.data.sessionToken);\n\t\t\t\tthis.props.history.push('/admin/table');\n\t\t\t\t// return useHistory().push('/admin/table');\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t\treturn;\n\t\t\t});\n\t}\n\n\tgetHelloWorld() {\n\t\tconst url = 'http://localhost:5000/hello';\n\t\taxios.get(url).then(({ data }) => {\n\t\t\tthis.setState({ hello: data });\n\t\t});\n\t}\n\trender() {\n\t\tconst { hello } = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"containerz\">\n\t\t\t\t<div className=\"login\">\n\t\t\t\t\t<p style={{ textAlign: 'center', fontWeight: 'bolder' }}>Login first</p>\n\t\t\t\t\t<Form horizontal onSubmit={this.handleLogin}>\n\t\t\t\t\t\t<Form.Group controlId=\"formHorizontalEmail\">\n\t\t\t\t\t\t\t<Col componentClass={ControlLabel} sm={2}>\n\t\t\t\t\t\t\t\tEmail\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({ username: e.target.value });\n\t\t\t\t\t\t\t\t\t\tconsole.log(e.target.value);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t<Form.Group controlId=\"formHorizontalPassword\">\n\t\t\t\t\t\t\t<Col componentClass={ControlLabel} sm={2}>\n\t\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({ password: e.target.value });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Col smOffset={2} sm={10}>\n\t\t\t\t\t\t\t\t<input className=\"btn btn-primary\" type=\"submit\" value=\"Login\" />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}